{"ast":null,"code":"var _jsxFileName = \"/Users/gok/Documents/Estudos/reactWeb/Money/src/pages/login/index.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport * as S from \"./style\";\nimport { isEmailValid } from \"../../helpers/EmailHelpers\";\nimport ValidationError from \"../../components/validation-error/ValidationError\";\nimport { useNavigate } from \"react-router-dom\";\nimport Loading from \"../../components/loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Login(props) {\n  _s();\n  const [form, setForm] = useState({\n    email: {\n      hasChanger: false,\n      value: \"\"\n    },\n    password: {\n      hasChanger: false,\n      value: \"\"\n    }\n  });\n  const [error, setError] = useState(null);\n  const [showLoading, setShowLoading] = useState(false);\n  const login = () => {\n    setShowLoading(true);\n    props.authService.login(form.email.value, form.password.value).then(() => {\n      setShowLoading(false);\n      navigate(\"/home\");\n    }).catch(error => {\n      setShowLoading(false);\n      setError(error);\n    });\n  };\n  const navigate = useNavigate();\n  const goToRegisterPage = () => {\n    navigate(\"/register\");\n  };\n  const recoveryPassword = () => {\n    props.authService.recoveryPassword(form.email.value);\n  };\n  return /*#__PURE__*/_jsxDEV(S.Container, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: form.email.value,\n          onChange: event => setForm({\n            ...form,\n            email: {\n              hasChanger: true,\n              value: event.target.value\n            }\n          }),\n          type: \"email\",\n          placeholder: \"E-mail\",\n          \"data-testid\": \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ValidationError, {\n          hasChanged: form.email.hasChanger,\n          errorMessage: \"*E-mail \\xE9 obrigatorio\",\n          testId: \"email-required\",\n          type: \"required\",\n          value: form.email.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ValidationError, {\n          hasChanged: form.email.hasChanger,\n          errorMessage: \"*E-mail \\xE9 inv\\xE1lido\",\n          testId: \"email-invalid\",\n          type: \"email\",\n          value: form.email.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: event => setForm({\n            ...form,\n            password: {\n              hasChanger: true,\n              value: event.target.value\n            }\n          }),\n          value: form.password.value,\n          type: \"password\",\n          placeholder: \"Senha\",\n          \"data-testid\": \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ValidationError, {\n          hasChanged: form.password.hasChanger,\n          errorMessage: \"*Senha \\xE9 obrigat\\xF3ria\",\n          testId: \"password-required\",\n          type: \"required\",\n          value: form.password.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n          \"data-testid\": \"error\",\n          children: error.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"recover-password-button\",\n          disabled: !isEmailValid(form.email.value),\n          type: \"button\",\n          onClick: recoveryPassword,\n          children: \"Recuperar senha\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"login-button\",\n          disabled: !isEmailValid(form.email.value) || !form.password.value,\n          type: \"button\",\n          onClick: login,\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"register-button\",\n          type: \"button\",\n          onClick: goToRegisterPage,\n          children: \"Registrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), showLoading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"moz76sesz+VXzF9Gt2sshGmI4tY=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","S","isEmailValid","ValidationError","useNavigate","Loading","jsxDEV","_jsxDEV","Login","props","_s","form","setForm","email","hasChanger","value","password","error","setError","showLoading","setShowLoading","login","authService","then","navigate","catch","goToRegisterPage","recoveryPassword","Container","children","onChange","event","target","type","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","hasChanged","errorMessage","testId","message","disabled","onClick","_c","$RefreshReg$"],"sources":["/Users/gok/Documents/Estudos/reactWeb/Money/src/pages/login/index.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport * as S from \"./style\";\nimport { isEmailValid } from \"../../helpers/EmailHelpers\";\nimport ValidationError from \"../../components/validation-error/ValidationError\";\nimport { useNavigate } from \"react-router-dom\";\nimport AuthService from \"../../services/AuthServrice\";\nimport Loading from \"../../components/loading\";\n\ntype LoginPageProps = {\n  authService: AuthService;\n};\n\nexport function Login(props: LoginPageProps) {\n  const [form, setForm] = useState({\n    email: {\n      hasChanger: false,\n      value: \"\",\n    },\n    password: {\n      hasChanger: false,\n      value: \"\",\n    },\n  });\n\n  const [error, setError] = useState(null as any);\n  const [showLoading, setShowLoading] = useState(false);\n\n  const login = () => {\n    setShowLoading(true);\n    props.authService\n      .login(form.email.value, form.password.value)\n      .then(() => {\n        setShowLoading(false);\n        navigate(\"/home\");\n      })\n      .catch((error) => {\n        setShowLoading(false);\n        setError(error);\n      });\n  };\n\n  const navigate = useNavigate();\n  const goToRegisterPage = () => {\n    navigate(\"/register\");\n  };\n\n  const recoveryPassword = () => {\n    props.authService.recoveryPassword(form.email.value);\n  };\n\n  return (\n    <S.Container>\n      <section>\n        <form>\n          <input\n            value={form.email.value}\n            onChange={(event) =>\n              setForm({\n                ...form,\n                email: {\n                  hasChanger: true,\n                  value: event.target.value,\n                },\n              })\n            }\n            type=\"email\"\n            placeholder=\"E-mail\"\n            data-testid=\"email\"\n          />\n\n          <ValidationError\n            hasChanged={form.email.hasChanger}\n            errorMessage=\"*E-mail é obrigatorio\"\n            testId=\"email-required\"\n            type=\"required\"\n            value={form.email.value}\n          />\n          <ValidationError\n            hasChanged={form.email.hasChanger}\n            errorMessage=\"*E-mail é inválido\"\n            testId=\"email-invalid\"\n            type=\"email\"\n            value={form.email.value}\n          />\n          <br />\n          <br />\n          <input\n            onChange={(event) =>\n              setForm({\n                ...form,\n                password: {\n                  hasChanger: true,\n                  value: event.target.value,\n                },\n              })\n            }\n            value={form.password.value}\n            type=\"password\"\n            placeholder=\"Senha\"\n            data-testid=\"password\"\n          />\n          <ValidationError\n            hasChanged={form.password.hasChanger}\n            errorMessage=\"*Senha é obrigatória\"\n            testId=\"password-required\"\n            type=\"required\"\n            value={form.password.value}\n          />\n\n          {error && <span data-testid=\"error\">{error.message}</span>}\n          <br />\n          <br />\n          <button\n            data-testid=\"recover-password-button\"\n            disabled={!isEmailValid(form.email.value)}\n            type=\"button\"\n            onClick={recoveryPassword}\n          >\n            Recuperar senha\n          </button>\n          <br />\n          <button\n            data-testid=\"login-button\"\n            disabled={!isEmailValid(form.email.value) || !form.password.value}\n            type=\"button\"\n            onClick={login}\n          >\n            Entrar\n          </button>\n          <br />\n          <button\n            data-testid=\"register-button\"\n            type=\"button\"\n            onClick={goToRegisterPage}\n          >\n            Registrar\n          </button>\n        </form>\n        {showLoading && <Loading />}\n      </section>\n    </S.Container>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}