{"ast":null,"code":"var _jsxFileName = \"/Users/gok/Documents/Estudos/reactWeb/Money/src/pages/login/index.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport * as S from \"./style\";\nimport { isEmailValid } from \"../../helpers/EmailHelpers\";\nimport ValidationError from \"../../components/validation-error/ValidationError\";\nimport { useNavigate } from \"react-router-dom\";\nimport Loading from \"../../components/loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Login(props) {\n  _s();\n  const [form, setForm] = useState({\n    email: {\n      hasChanger: false,\n      value: \"\"\n    },\n    password: {\n      hasChanger: false,\n      value: \"\"\n    }\n  });\n  const [error, setError] = useState(null);\n  const [showLoading, setShowLoading] = useState(false);\n  const [showRecoverPasswordMessage, setShowRecoverPasswordMessage] = useState(false);\n  const login = () => {\n    setShowLoading(true);\n    props.authService.login(form.email.value, form.password.value).then(() => {\n      setShowLoading(false);\n      navigate(\"/home\");\n    }).catch(error => {\n      setShowLoading(false);\n      setError(error);\n    });\n  };\n  const navigate = useNavigate();\n  const goToRegisterPage = () => {\n    navigate(\"/register\");\n  };\n  const recoverPassword = () => {\n    setShowLoading(true);\n    props.authService.recoverPassword(form.email.value).then(() => {\n      setShowRecoverPasswordMessage(true);\n      setShowLoading(false);\n    }).catch(error => {\n      setError(error);\n      setShowLoading(false);\n      setShowRecoverPasswordMessage(false);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(S.Container, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: form.email.value,\n          onChange: event => setForm({\n            ...form,\n            email: {\n              hasChanger: true,\n              value: event.target.value\n            }\n          }),\n          type: \"email\",\n          placeholder: \"E-mail\",\n          \"data-testid\": \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ValidationError, {\n          hasChanged: form.email.hasChanger,\n          errorMessage: \"*E-mail \\xE9 obrigatorio\",\n          testId: \"email-required\",\n          type: \"required\",\n          value: form.email.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ValidationError, {\n          hasChanged: form.email.hasChanger,\n          errorMessage: \"*E-mail \\xE9 inv\\xE1lido\",\n          testId: \"email-invalid\",\n          type: \"email\",\n          value: form.email.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: event => setForm({\n            ...form,\n            password: {\n              hasChanger: true,\n              value: event.target.value\n            }\n          }),\n          value: form.password.value,\n          type: \"password\",\n          placeholder: \"Senha\",\n          \"data-testid\": \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ValidationError, {\n          hasChanged: form.password.hasChanger,\n          errorMessage: \"*Senha \\xE9 obrigat\\xF3ria\",\n          testId: \"password-required\",\n          type: \"required\",\n          value: form.password.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n          \"data-testid\": \"error\",\n          children: error.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"recover-password-button\",\n          disabled: !isEmailValid(form.email.value),\n          type: \"button\",\n          onClick: recoverPassword,\n          children: \"Recuperar senha\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"login-button\",\n          disabled: !isEmailValid(form.email.value) || !form.password.value,\n          type: \"button\",\n          onClick: login,\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"register-button\",\n          type: \"button\",\n          onClick: goToRegisterPage,\n          children: \"Registrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), showLoading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }, this), showRecoverPasswordMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Verifique sua caixa de email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 40\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"NsSPN8XKLMgaxEZdvTRvEabCx28=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","S","isEmailValid","ValidationError","useNavigate","Loading","jsxDEV","_jsxDEV","Login","props","_s","form","setForm","email","hasChanger","value","password","error","setError","showLoading","setShowLoading","showRecoverPasswordMessage","setShowRecoverPasswordMessage","login","authService","then","navigate","catch","goToRegisterPage","recoverPassword","Container","children","onChange","event","target","type","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","hasChanged","errorMessage","testId","message","disabled","onClick","_c","$RefreshReg$"],"sources":["/Users/gok/Documents/Estudos/reactWeb/Money/src/pages/login/index.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport * as S from \"./style\";\nimport { isEmailValid } from \"../../helpers/EmailHelpers\";\nimport ValidationError from \"../../components/validation-error/ValidationError\";\nimport { useNavigate } from \"react-router-dom\";\nimport AuthService from \"../../services/AuthServrice\";\nimport Loading from \"../../components/loading\";\n\ntype LoginPageProps = {\n  authService: AuthService;\n};\n\nexport function Login(props: LoginPageProps) {\n  const [form, setForm] = useState({\n    email: {\n      hasChanger: false,\n      value: \"\",\n    },\n    password: {\n      hasChanger: false,\n      value: \"\",\n    },\n  });\n\n  const [error, setError] = useState(null as any);\n  const [showLoading, setShowLoading] = useState(false);\n  const [showRecoverPasswordMessage, setShowRecoverPasswordMessage] =\n    useState(false);\n\n  const login = () => {\n    setShowLoading(true);\n    props.authService\n      .login(form.email.value, form.password.value)\n      .then(() => {\n        setShowLoading(false);\n        navigate(\"/home\");\n      })\n      .catch((error) => {\n        setShowLoading(false);\n        setError(error);\n      });\n  };\n\n  const navigate = useNavigate();\n  const goToRegisterPage = () => {\n    navigate(\"/register\");\n  };\n\n  const recoverPassword = () => {\n    setShowLoading(true);\n    props.authService\n      .recoverPassword(form.email.value)\n      .then(() => {\n        setShowRecoverPasswordMessage(true);\n        setShowLoading(false);\n      })\n      .catch((error) => {\n        setError(error);\n        setShowLoading(false);\n        setShowRecoverPasswordMessage(false);\n      });\n  };\n\n  return (\n    <S.Container>\n      <section>\n        <form>\n          <input\n            value={form.email.value}\n            onChange={(event) =>\n              setForm({\n                ...form,\n                email: {\n                  hasChanger: true,\n                  value: event.target.value,\n                },\n              })\n            }\n            type=\"email\"\n            placeholder=\"E-mail\"\n            data-testid=\"email\"\n          />\n\n          <ValidationError\n            hasChanged={form.email.hasChanger}\n            errorMessage=\"*E-mail é obrigatorio\"\n            testId=\"email-required\"\n            type=\"required\"\n            value={form.email.value}\n          />\n          <ValidationError\n            hasChanged={form.email.hasChanger}\n            errorMessage=\"*E-mail é inválido\"\n            testId=\"email-invalid\"\n            type=\"email\"\n            value={form.email.value}\n          />\n          <br />\n          <br />\n          <input\n            onChange={(event) =>\n              setForm({\n                ...form,\n                password: {\n                  hasChanger: true,\n                  value: event.target.value,\n                },\n              })\n            }\n            value={form.password.value}\n            type=\"password\"\n            placeholder=\"Senha\"\n            data-testid=\"password\"\n          />\n          <ValidationError\n            hasChanged={form.password.hasChanger}\n            errorMessage=\"*Senha é obrigatória\"\n            testId=\"password-required\"\n            type=\"required\"\n            value={form.password.value}\n          />\n\n          {error && <span data-testid=\"error\">{error.message}</span>}\n          <br />\n          <br />\n          <button\n            data-testid=\"recover-password-button\"\n            disabled={!isEmailValid(form.email.value)}\n            type=\"button\"\n            onClick={recoverPassword}\n          >\n            Recuperar senha\n          </button>\n          <br />\n          <button\n            data-testid=\"login-button\"\n            disabled={!isEmailValid(form.email.value) || !form.password.value}\n            type=\"button\"\n            onClick={login}\n          >\n            Entrar\n          </button>\n          <br />\n          <button\n            data-testid=\"register-button\"\n            type=\"button\"\n            onClick={goToRegisterPage}\n          >\n            Registrar\n          </button>\n        </form>\n        {showLoading && <Loading />}\n        {showRecoverPasswordMessage && <div>Verifique sua caixa de email</div>}\n      </section>\n    </S.Container>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}